#include <stdio.h>
#include <stdlib.h>

typedef struct no{
  int content;
  struct no *left;
  struct no *right;
}no;

no *insertFast(no *root, int value){
  if(root==NULL){
    no *new = (no*) malloc(sizeof(no));
    new->content = value;
    new->left = NULL;
    new->right = NULL;
    return new;
  }else{
    if(value < root->content){
      root->left = insertFast(root->left, value);
    }
    if(value > root->content){
      root->right = insertFast(root->right, value);
    }
    return root;
  }
}

int size(no *root){
  if(root == NULL){
    return 0;
  }
  return 1 + size(root->left) + size(root->right);
}

int find(no *root, int value){
  if(root == NULL){
    return "This number does not exist";
  }else{
    if(root->content == value){
      return "This number exists";
    }else{
      if (value < root->content){
        return find(root->left, value);
      }else{
        return find(root->right, value);
      }
    }
  }
}

void printTree(no *root){
  if(root != NULL){
    printTree(root->left);
    printf("%d ", root->content);
    printTree(root->right);
  }
}

int main(void){
  int option, value;

  no *root = NULL;
  
  do{
    printf("\n0 - Quit \n1 - Insert \n2 - Print\n3 - Find\n");
    scanf("%d", &option);

    switch(option){
      case 0:
        printf("\nLeaving...\n");
        break;
      case 1:
        printf("Enter a number: ");
        scanf("%d", &value);
        root = insertFast(root, value);
        break;
      case 2:
        printf("Binary tree printing: ");
        printTree(root);
        printf("\n");
        printf("Size: %d\n", size(root));
        break;
      case 3:
        printf("Enter the value you want to search: ");
        scanf("%d", &value);
        printf("Search result: %s\n", find(root, value));
        break;
      default:
        printf("\nInvalid option...\n");
    }
  }while(option!=0);

  return 0;
}
